from mypkg1 import foo as foo2

"""mys-embedded-c++-before-namespace
#include "cpp/foo.hpp"
"""

"""mys-embedded-c++
static int global_variable = 0;
"""

def foo() -> i32:
    a = foo2()

    """mys-embedded-c++
    a += foo::foobar(3) + global_variable;
    """

    return a

@test
def test_foo():
    assert foo2() == 4
    assert foo() == 13
